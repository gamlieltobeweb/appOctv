{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\apprn\\\\component\\\\view.js\";\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useState } from 'react';\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Audio, Video } from 'expo-av';\nimport * as FileSystem from 'expo-file-system';\n\nvar _Dimensions$get = Dimensions.get('window'),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nexport default function ViewVideo() {\n  var _useState = useState('http://d23dyxeqlo5psv.cloudfront.net/big_buck_bunny.mp4'),\n      _useState2 = _slicedToArray(_useState, 2),\n      videourl = _useState2[0],\n      setvideourl = _useState2[1];\n\n  var _useState3 = useState(\"Download\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      buttontitle = _useState4[0],\n      setbuttontitle = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      progressValue = _useState6[0],\n      setprogressValue = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      totalSize = _useState8[0],\n      settotalSize = _useState8[1];\n\n  function formatBytes(bytes) {\n    var decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n    if (bytes === 0) return '0 Bytes';\n    var k = 1024;\n    var dm = decimals < 0 ? 0 : decimals;\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n    var i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n  }\n\n  function addMultipleGifs(gifIds) {\n    return _regeneratorRuntime.async(function addMultipleGifs$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(ensureDirExists());\n\n          case 3:\n            console.log('Downloading', gifIds.length, 'gif files...');\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(Promise.all(gifIds.map(function (id) {\n              return FileSystem.downloadAsync(gifUrl(id), gifFileUri(id));\n            })));\n\n          case 6:\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(\"Couldn't download gif files:\", _context.t0);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  }\n\n  function downloadVideo() {\n    var callback, downloadResumable, _await$downloadResuma, uri;\n\n    return _regeneratorRuntime.async(function downloadVideo$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            setbuttontitle(\"Downloading\");\n\n            callback = function callback(downloadProgress) {\n              settotalSize(formatBytes(downloadProgress.totalBytesExpectedToWrite));\n              var progress = downloadProgress.totalBytesWritten / downloadProgress.totalBytesExpectedToWrite;\n              progress = progress.toFixed(2) * 100;\n              setprogressValue(progress.toFixed(0));\n              console.log(\"progress\", progress);\n              console.log(\"callback\", callback);\n            };\n\n            downloadResumable = FileSystem.createDownloadResumable(videourl, FileSystem.documentDirectory + 'small.mp4', {}, callback);\n            _context2.prev = 3;\n            _context2.next = 6;\n            return _regeneratorRuntime.awrap(downloadResumable.downloadAsync());\n\n          case 6:\n            _await$downloadResuma = _context2.sent;\n            uri = _await$downloadResuma.uri;\n            console.log('Finished downloading to ', uri);\n            setbuttontitle(\"Dowloaded\");\n            _context2.next = 15;\n            break;\n\n          case 12:\n            _context2.prev = 12;\n            _context2.t0 = _context2[\"catch\"](3);\n            console.error(_context2.t0);\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[3, 12]], Promise);\n  }\n\n  function downloadVideodoc() {\n    var results;\n    return _regeneratorRuntime.async(function downloadVideodoc$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(DocumentPicker.getDocumentAsync({\n              type: '*',\n              copyToCacheDirectory: true,\n              multiple: true\n            }));\n\n          case 3:\n            results = _context3.sent;\n            _context3.next = 12;\n            break;\n\n          case 6:\n            _context3.prev = 6;\n            _context3.t0 = _context3[\"catch\"](0);\n\n            if (!DocumentPicker.isCancel(_context3.t0)) {\n              _context3.next = 11;\n              break;\n            }\n\n            _context3.next = 12;\n            break;\n\n          case 11:\n            throw _context3.t0;\n\n          case 12:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 6]], Promise);\n  }\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, React.createElement(Video, {\n    source: {\n      uri: videourl\n    },\n    rate: 1,\n    volume: 2,\n    isMuted: false,\n    resizeMode: Video.RESIZE_MODE_CONTAIN,\n    isLooping: true,\n    useNativeControls: true,\n    style: styles.video,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  video: {\n    width: width,\n    height: height / 2\n  },\n  textprogress: {\n    justifyContent: 'center',\n    alignContent: 'center'\n  }\n});","map":{"version":3,"sources":["C:/Users/User/Desktop/apprn/component/view.js"],"names":["StatusBar","React","useState","Audio","Video","FileSystem","Dimensions","get","width","height","ViewVideo","videourl","setvideourl","buttontitle","setbuttontitle","progressValue","setprogressValue","totalSize","settotalSize","formatBytes","bytes","decimals","k","dm","sizes","i","Math","floor","log","parseFloat","pow","toFixed","addMultipleGifs","gifIds","ensureDirExists","console","length","Promise","all","map","id","downloadAsync","gifUrl","gifFileUri","error","downloadVideo","callback","downloadProgress","totalBytesExpectedToWrite","progress","totalBytesWritten","downloadResumable","createDownloadResumable","documentDirectory","uri","downloadVideodoc","DocumentPicker","getDocumentAsync","type","copyToCacheDirectory","multiple","results","isCancel","styles","container","RESIZE_MODE_CONTAIN","video","StyleSheet","create","flex","textprogress","justifyContent","alignContent"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,iBAA1B;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;;;;;AAEA,SAASC,KAAT,EAAgBC,KAAhB,QAA6B,SAA7B;AACA,OAAO,KAAKC,UAAZ,MAA4B,kBAA5B;;sBAM0BC,UAAU,CAACC,GAAX,CAAe,QAAf,C;IAAlBC,K,mBAAAA,K;IAAOC,M,mBAAAA,M;;AAIf,eAAe,SAASC,SAAT,GAAqB;AAAA,kBAGFR,QAAQ,CAAC,yDAAD,CAHN;AAAA;AAAA,MAG3BS,QAH2B;AAAA,MAGjBC,WAHiB;;AAAA,mBAIIV,QAAQ,CAAC,UAAD,CAJZ;AAAA;AAAA,MAI3BW,WAJ2B;AAAA,MAIdC,cAJc;;AAAA,mBAKQZ,QAAQ,CAAC,CAAD,CALhB;AAAA;AAAA,MAK3Ba,aAL2B;AAAA,MAKZC,gBALY;;AAAA,mBAMAd,QAAQ,CAAC,CAAD,CANR;AAAA;AAAA,MAM3Be,SAN2B;AAAA,MAMhBC,YANgB;;AASlC,WAASC,WAAT,CAAqBC,KAArB,EAA0C;AAAA,QAAdC,QAAc,uEAAH,CAAG;AACxC,QAAID,KAAK,KAAK,CAAd,EAAiB,OAAO,SAAP;AAEjB,QAAME,CAAC,GAAG,IAAV;AACA,QAAMC,EAAE,GAAGF,QAAQ,GAAG,CAAX,GAAe,CAAf,GAAmBA,QAA9B;AACA,QAAMG,KAAK,GAAG,CAAC,OAAD,EAAU,IAAV,EAAgB,IAAhB,EAAsB,IAAtB,EAA4B,IAA5B,EAAkC,IAAlC,EAAwC,IAAxC,EAA8C,IAA9C,EAAoD,IAApD,CAAd;AAEA,QAAMC,CAAC,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,GAAL,CAASR,KAAT,IAAkBM,IAAI,CAACE,GAAL,CAASN,CAAT,CAA7B,CAAV;AAEA,WAAOO,UAAU,CAAC,CAACT,KAAK,GAAGM,IAAI,CAACI,GAAL,CAASR,CAAT,EAAYG,CAAZ,CAAT,EAAyBM,OAAzB,CAAiCR,EAAjC,CAAD,CAAV,GAAmD,GAAnD,GAAyDC,KAAK,CAACC,CAAD,CAArE;AACD;;AAEF,WAAeO,eAAf,CAA+BC,MAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEWC,eAAe,EAF1B;;AAAA;AAIKC,YAAAA,OAAO,CAACP,GAAR,CAAY,aAAZ,EAA2BK,MAAM,CAACG,MAAlC,EAA0C,cAA1C;AAJL;AAAA,6CAKWC,OAAO,CAACC,GAAR,CAAYL,MAAM,CAACM,GAAP,CAAW,UAAAC,EAAE;AAAA,qBAAInC,UAAU,CAACoC,aAAX,CAAyBC,MAAM,CAACF,EAAD,CAA/B,EAAqCG,UAAU,CAACH,EAAD,CAA/C,CAAJ;AAAA,aAAb,CAAZ,CALX;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAOKL,YAAAA,OAAO,CAACS,KAAR,CAAc,8BAAd;;AAPL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWC,WAAeC,aAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AACE/B,YAAAA,cAAc,CAAC,aAAD,CAAd;;AAEMgC,YAAAA,QAHR,GAGmB,SAAXA,QAAW,CAAAC,gBAAgB,EAAI;AACnC7B,cAAAA,YAAY,CAACC,WAAW,CAAC4B,gBAAgB,CAACC,yBAAlB,CAAZ,CAAZ;AACA,kBAAIC,QAAQ,GAAGF,gBAAgB,CAACG,iBAAjB,GAAqCH,gBAAgB,CAACC,yBAArE;AACAC,cAAAA,QAAQ,GAAGA,QAAQ,CAAClB,OAAT,CAAiB,CAAjB,IAAqB,GAAhC;AACAf,cAAAA,gBAAgB,CAACiC,QAAQ,CAAClB,OAAT,CAAiB,CAAjB,CAAD,CAAhB;AAEAI,cAAAA,OAAO,CAACP,GAAR,CAAY,UAAZ,EAAuBqB,QAAvB;AACAd,cAAAA,OAAO,CAACP,GAAR,CAAY,UAAZ,EAAuBkB,QAAvB;AAED,aAZH;;AAeQK,YAAAA,iBAfR,GAe4B9C,UAAU,CAAC+C,uBAAX,CACxBzC,QADwB,EAExBN,UAAU,CAACgD,iBAAX,GAA+B,WAFP,EAGxB,EAHwB,EAIxBP,QAJwB,CAf5B;AAAA;AAAA;AAAA,6CAwB0BK,iBAAiB,CAACV,aAAlB,EAxB1B;;AAAA;AAAA;AAwBYa,YAAAA,GAxBZ,yBAwBYA,GAxBZ;AAyBInB,YAAAA,OAAO,CAACP,GAAR,CAAY,0BAAZ,EAAwC0B,GAAxC;AACAxC,YAAAA,cAAc,CAAC,WAAD,CAAd;AA1BJ;AAAA;;AAAA;AAAA;AAAA;AA4BIqB,YAAAA,OAAO,CAACS,KAAR;;AA5BJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAgCA,WAAeW,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAE0BC,cAAc,CAACC,gBAAf,CAAgC;AACpDC,cAAAA,IAAI,EAAE,GAD8C;AAC1CC,cAAAA,oBAAoB,EAAE,IADoB;AACfC,cAAAA,QAAQ,EAAE;AADK,aAAhC,CAF1B;;AAAA;AAEUC,YAAAA,OAFV;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA,iBAOQL,cAAc,CAACM,QAAf,cAPR;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAgBA,SACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEC,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE,oBAAC,KAAD;AAGE,IAAA,MAAM,EAAE;AAAEV,MAAAA,GAAG,EAAE3C;AAAP,KAHV;AAIE,IAAA,IAAI,EAAE,CAJR;AAKE,IAAA,MAAM,EAAE,CALV;AAME,IAAA,OAAO,EAAE,KANX;AAOE,IAAA,UAAU,EAAEP,KAAK,CAAC6D,mBAPpB;AASE,IAAA,SAAS,MATX;AAUE,IAAA,iBAAiB,MAVnB;AAWE,IAAA,KAAK,EAAEF,MAAM,CAACG,KAXhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAgBE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBF,CADF;AAwBD;AAED,IAAMH,MAAM,GAAGI,UAAU,CAACC,MAAX,CAAkB;AAC/BJ,EAAAA,SAAS,EAAE;AACTK,IAAAA,IAAI,EAAE;AADG,GADoB;AAK/BH,EAAAA,KAAK,EAAE;AACL1D,IAAAA,KAAK,EAAEA,KADF;AAELC,IAAAA,MAAM,EAAEA,MAAM,GAAG;AAFZ,GALwB;AAS/B6D,EAAAA,YAAY,EAAE;AACZC,IAAAA,cAAc,EAAE,QADJ;AAEZC,IAAAA,YAAY,EAAE;AAFF;AATiB,CAAlB,CAAf","sourcesContent":["import { StatusBar } from 'expo-status-bar';\r\nimport React, { useState } from 'react';\r\nimport { Button, Dimensions, StyleSheet, Text, View } from 'react-native';\r\nimport { Audio, Video } from 'expo-av';\r\nimport * as FileSystem from 'expo-file-system';\r\n// import {DocumentPicker} from 'expo-document-picker';\r\n// import DocumentPicker from 'react-native-document-picker';\r\n\r\n\r\n\r\nconst { width, height } = Dimensions.get('window')\r\n\r\n\r\n\r\nexport default function ViewVideo() {\r\n\r\n  // const [videourl, setvideourl] = useState('https://www.youtube.com/watch?v=pXMJxjsK3Bo&list=PLIB9GjPDOoNb8uI4FKicVwLss2mlCRuQn')\r\n  const [videourl, setvideourl] = useState('http://d23dyxeqlo5psv.cloudfront.net/big_buck_bunny.mp4')\r\n  const [buttontitle, setbuttontitle] = useState(\"Download\")\r\n  const [progressValue, setprogressValue] = useState(0)\r\n  const [totalSize, settotalSize] = useState(0)\r\n\r\n\r\n  function formatBytes(bytes, decimals = 2) {\r\n    if (bytes === 0) return '0 Bytes';\r\n\r\n    const k = 1024;\r\n    const dm = decimals < 0 ? 0 : decimals;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\r\n\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\r\n  }\r\n\r\n async function addMultipleGifs(gifIds) {\r\n    try {\r\n      await ensureDirExists();\r\n  \r\n      console.log('Downloading', gifIds.length, 'gif files...');\r\n      await Promise.all(gifIds.map(id => FileSystem.downloadAsync(gifUrl(id), gifFileUri(id))));\r\n    } catch (e) {\r\n      console.error(\"Couldn't download gif files:\", e);\r\n    }\r\n  }\r\n\r\n  async function downloadVideo() {\r\n    setbuttontitle(\"Downloading\")\r\n\r\n    const callback = downloadProgress => {\r\n      settotalSize(formatBytes(downloadProgress.totalBytesExpectedToWrite))\r\n      var progress = downloadProgress.totalBytesWritten / downloadProgress.totalBytesExpectedToWrite;\r\n      progress = progress.toFixed(2) *100\r\n      setprogressValue(progress.toFixed(0))\r\n\r\n      console.log(\"progress\",progress);\r\n      console.log(\"callback\",callback);\r\n\r\n    };\r\n\r\n\r\n    const downloadResumable = FileSystem.createDownloadResumable(\r\n      videourl,\r\n      FileSystem.documentDirectory + 'small.mp4',\r\n      {},\r\n      callback,\r\n\r\n    );\r\n\r\n    try {\r\n      const { uri } = await downloadResumable.downloadAsync();\r\n      console.log('Finished downloading to ', uri);\r\n      setbuttontitle(\"Dowloaded\")\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  async function downloadVideodoc(){\r\n    try {\r\n      const results = await DocumentPicker.getDocumentAsync({\r\n        type: '*',copyToCacheDirectory :true,multiple :true\r\n      });\r\n      \r\n    } catch (err) {\r\n      if (DocumentPicker.isCancel(err)) {\r\n        // User cancelled the picker, exit any dialogs or menus and move on\r\n      } else {\r\n        throw err;\r\n      }\r\n    }\r\n  }\r\n  \r\n\r\n  return (\r\n    <View style={styles.container}>\r\n\r\n      <Video\r\n\r\n        // source={require('../media/giorgio-armani-2019-vertical.mp4')}\r\n        source={{ uri: videourl }}\r\n        rate={1}\r\n        volume={2}\r\n        isMuted={false}\r\n        resizeMode={Video.RESIZE_MODE_CONTAIN}\r\n        // shouldPlay\r\n        isLooping\r\n        useNativeControls\r\n        style={styles.video}\r\n      />\r\n      {/* <Button title={buttontitle} onPress={downloadVideo}></Button> */}\r\n      <View/>\r\n      {/* <Button title={buttontitle} onPress={downloadVideodoc}></Button> */}\r\n      {/* <Button title='goback'></Button>\r\n      <Text style={styles.textprogress} >size:{totalSize}</Text>\r\n      <Text style={styles.textprogress}>progress:{progressValue} %</Text> */}\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n\r\n  },\r\n  video: {\r\n    width: width,\r\n    height: height / 2,\r\n  },\r\n  textprogress: {\r\n    justifyContent: 'center',\r\n    alignContent: 'center'\r\n    // marginBottom:30,\r\n    // flex:1,\r\n  }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}